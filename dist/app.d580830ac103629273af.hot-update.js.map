{"version":3,"sources":["webpack://yodda/./src/js/RenderGift.js"],"names":["RenderGift","opts","self","el","canvas","querySelector","modelName","model","callback","number","scale","size","getParentSize","renderer","getRenderer","camera","getCamera","gui","dat","GUI","loadModel","then","object","setupObject","set","position","rotation","Math","PI","castShadow","scene","getScene","add","duplicate","clone","duplicate1","update","amount","i","obj","x","separationMultiplier","y","z","j","parentElement","getBoundingClientRect","width","height","name","Promise","resolve","reject","THREE","GLTFLoader","load","xhr","lengthComputable","percentComplete","loaded","total","traverse","child","receiveShadow","WebGLRenderer","alpha","setSize","setPixelRatio","window","devicePixelRatio","setClearColor","shadowMap","enabled","type","PCFSoftShadowMap","domElement","fov","aspect","near","far","PerspectiveCamera","lookAt","Vector3","Scene","bgColor","background","Color","zoom","updateProjectionMatrix","hemiLight","getHemiLight","ambientLight","getAmbientLight","spotLight","getSpotLight","thisSpotlight","addFolder","plane","getPlane","thisPlane","light","HemisphereLight","color","intensity","AmbientLight","DirectionalLight","shadow","bias","mapSize","distance","angle","SpotLight","w","h","geometry","PlaneBufferGeometry","material","MeshStandardMaterial","mesh","Mesh","render","requestAnimationFrame"],"mappings":"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","file":"app.d580830ac103629273af.hot-update.js","sourcesContent":["export default class RenderGift {\n  constructor(opts) {\n    const self = this;\n    self.el = opts.el;\n    self.canvas = self.el.querySelector('.scene');\n    self.modelName = opts.model;\n    self.callback = opts.callback;\n    self.number = 12;\n    self.scale = 5;\n    self.model;\n\n    const size = self.getParentSize(self.el);\n    self.renderer = self.getRenderer(self.canvas, size);\n    self.camera = self.getCamera();\n    self.gui = new dat.GUI();\n\n    self.loadModel(self.modelName)\n      .then(object => self.setupObject(object))\n      .then(object => {\n        self.model = object;\n        self.model.scale.set(self.scale, self.scale, self.scale);\n        self.model.position.set(0, 0, 0);\n        self.model.rotation.set(Math.PI / 8, Math.PI / 4, 0);\n        self.model.castShadow = true;\n        const scene = self.getScene();\n        self.scene = scene;\n        self.scene.add(self.model);\n\n        // some experiment\n        const duplicate = self.model.clone(true);\n        duplicate.scale.set(self.scale, self.scale, self.scale);\n        duplicate.position.set(2, 0, 0);\n        duplicate.rotation.set(Math.PI / 8, Math.PI / 4, 0);\n        duplicate.castShadow = true;\n        self.scene.add(duplicate)\n\n        const duplicate1 = self.model.clone(true);\n        duplicate1.scale.set(self.scale, self.scale, self.scale);\n        duplicate1.position.set(-2, 0, 0);\n        duplicate1.rotation.set(Math.PI / 8, Math.PI / 4, 0);\n        duplicate1.castShadow = true;\n        self.scene.add(duplicate1)\n        // end of experiment\n\n        self.update(scene);\n      })\n\n\n  }\n\n  getBoxGrid(model, amount) {\n    for (var i = 0; i < amount; i++) {\n      var obj = model.clone(true);\n      obj.position.x = i * separationMultiplier;\n      obj.position.y = i * separationMultiplier;\n      obj.position.z = 0;\n      obj.scale.set(scale, scale, scale);\n      obj.rotation.set(Math.PI / 8, Math.PI / 4, 0);\n      obj.castShadow = true;\n      self.scene.add(obj);\n      for (var j = 1; j < amount; j++) {\n        var obj = model.clone(true);\n        obj.scale.set(scale, scale, scale);\n        obj.rotation.set(Math.PI / 8, Math.PI / 4, 0);\n        obj.castShadow = true;\n        obj.position.x = i * separationMultiplier;\n        obj.position.y = i * separationMultiplier;\n        obj.position.z = 0;\n        self.scene.add(obj);\n      }\n    }\n    // group.position.x = -(separationMultiplier * (amount - 1)) / 2;\n    // group.position.z = -(separationMultiplier * (amount - 1)) / 2;\n    //\n    // return group;\n  }\n  getParentSize(parentElement) {\n    const self = this;\n    const {\n      width,\n      height\n    } = parentElement.getBoundingClientRect();\n    return {\n      width,\n      height\n    };\n  }\n  loadModel(name) {\n    const self = this;\n    return new Promise((resolve, reject) => {\n      new THREE.GLTFLoader().load(`models/${name}.gltf`,\n        function(object) {\n          resolve(object.scene);\n        },\n        // on progress\n        function(xhr) {\n          if (xhr.lengthComputable) {\n            var percentComplete = xhr.loaded / xhr.total * 100;\n          }\n        },\n        // on error\n        function(xhr) {\n          // console.log(xhr);\n          reject;\n        }\n      );\n    })\n  }\n  setupObject(object) {\n    object.traverse(function(child) {\n      child.receiveShadow = true;\n      child.castShadow = true;\n\n    })\n    return object;\n  }\n  getRenderer(canvas, size) {\n    const self = this;\n    const {\n      scale\n    } = self;\n    const {\n      width,\n      height\n    } = size;\n    const renderer = new THREE.WebGLRenderer({\n      canvas,\n      alpha: true,\n    });\n    renderer.setSize(width, height);\n    renderer.setPixelRatio(window.devicePixelRatio);\n    renderer.setClearColor(0xffffff);\n    renderer.shadowMap.enabled = true;\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\n    return renderer;\n  }\n  getCamera() {\n    const self = this;\n    const {\n      scale,\n      renderer\n    } = self;\n\n    // Use this for orthographic camera\n    const {\n      width,\n      height\n    } = renderer.domElement;\n\n    const fov = 45;\n    const aspect = renderer.domElement.width / renderer.domElement.height;\n    const near = 0.01;\n    const far = 1000;\n    const camera = new THREE.PerspectiveCamera(fov, aspect, near, far);\n    camera.position.set(0, 0, 30);\n    camera.lookAt(new THREE.Vector3(0, 0, 0));\n    return camera;\n  }\n  getScene() {\n    const self = this;\n    const {\n      camera,\n      scale,\n      model\n    } = self;\n\n    const {\n      renderer\n    } = self;\n\n    // Setup\n    const scene = new THREE.Scene();\n    const bgColor = 0xffffff;\n    scene.background = new THREE.Color(bgColor);\n\n    camera.zoom = 1.5;\n    camera.updateProjectionMatrix();\n\n    // Lights\n\n    const hemiLight = self.getHemiLight();\n    hemiLight.name = \"hemiLight\";\n    scene.add(hemiLight);\n\n    const ambientLight = self.getAmbientLight(0xffffff, 1);\n    ambientLight.name = \"ambientLight\";\n    scene.add(ambientLight);\n\n    const spotLight = self.getSpotLight(0xffffff, 0.4, 100, Math.PI / 3);\n    spotLight.name = \"spotLight\";\n    scene.add(spotLight);\n    //\n    // const directionalLight = self.getDirectionalLight(0xffffff, 1);\n    // directionalLight.name = \"directionalLight\";\n    // scene.add(directionalLight);\n\n    const thisSpotlight = self.gui.addFolder('spotlight');\n    // lights.add(ambientLight, 'intensity', 0, 1);\n    thisSpotlight.add(spotLight.rotation, 'x', -Math.PI, Math.PI);\n    thisSpotlight.add(spotLight.rotation, 'y', -Math.PI, Math.PI);\n    thisSpotlight.add(spotLight.rotation, 'z', -Math.PI, Math.PI);\n    thisSpotlight.add(spotLight.position, 'x', -100, 100);\n    thisSpotlight.add(spotLight.position, 'y', -100, 100);\n    thisSpotlight.add(spotLight.position, 'z', -100, 100);\n\n\n    const plane = self.getPlane(1000, 1000, 0x4c95eb);\n    plane.name = \"plane\";\n    plane.receiveShadow = true;\n\n    const thisPlane = self.gui.addFolder('plane');\n    thisPlane.add(plane.rotation, 'x', -Math.PI, Math.PI);\n    thisPlane.add(plane.rotation, 'y', -Math.PI, Math.PI);\n    thisPlane.add(plane.rotation, 'z', -Math.PI, Math.PI);\n\n    scene.add(plane);\n    return scene;\n  }\n  getHemiLight() {\n    const light = new THREE.HemisphereLight(0xFFFFFF, 0xFFFFFF);\n    light.position.set(0, 50, 0);\n    return light;\n  }\n  getAmbientLight(color, intensity) {\n    const light = new THREE.AmbientLight(color, intensity);\n    light.position.set(0, 0, 50);\n    return light;\n  }\n  getDirectionalLight(color, intensity) {\n    const light = new THREE.DirectionalLight(color, intensity);\n    light.position.set(-4, 11, 22);\n    light.castShadow = true;\n    light.shadow.bias = 0.001;\n    light.shadow.mapSize.width = 2048;\n    light.shadow.mapSize.height = 2048;\n    return light;\n  }\n  getSpotLight(color, intensity, distance, angle) {\n    // SpotLight( color : Integer, intensity : Float, distance : Float, angle : Radians, penumbra : Float, decay : Float )\n    const light = new THREE.SpotLight(color, intensity, distance, angle);\n    light.position.set(-8.7, 17.8, 27);\n    light.castShadow = true;\n    light.shadow.bias = 0.001;\n    light.shadow.mapSize.width = 2048;\n    light.shadow.mapSize.height = 2048;\n    return light;\n  }\n  getPlane(w, h, color) {\n    var geometry = new THREE.PlaneBufferGeometry(w, w, h, h);\n    var material = new THREE.MeshStandardMaterial({\n      color: color\n    })\n    var mesh = new THREE.Mesh(\n      geometry,\n      material\n    );\n\n    mesh.receiveShadow = true;\n\n    mesh.rotation.x = -1.17;\n\n    return mesh;\n  }\n  update(scene) {\n    const self = this;\n    const {\n      renderer,\n      camera,\n    } = self;\n    renderer.render(scene, camera);\n    requestAnimationFrame(() => {\n      self.update(scene);\n      // self.callback;\n    });\n  }\n}"],"sourceRoot":""}